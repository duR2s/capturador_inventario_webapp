<!-- CASO A: Tarjeta con Datos -->
<div class="card-container data-card"
     *ngIf="captura"
     (click)="handleClick()">

  <!-- Indicador de Estado -->
  <div class="status-row">
    <div class="status-circle" [ngClass]="statusColorClass"></div>
    <span class="status-text">{{ statusText }}</span>
  </div>

  <!-- Información Principal -->
  <div class="info-content">
    <h3 class="folio-text">{{ captura.folio }}</h3>
    <p class="almacen-text">{{ captura.almacen_nombre || 'Sin Almacén' }}</p>

    <!-- NUEVO: Capturador (Solo Admin) -->
    <p class="capturador-text" *ngIf="isAdmin && captura.capturador_nombre">
      {{ captura.capturador_nombre }}
    </p>
  </div>

  <!-- Pie: Fecha y Hora -->
  <div class="footer-row">
    <div class="datetime-container">
      <span class="date-text">{{ captura.fecha_captura | date:'mediumDate' }}</span>
      <span class="time-text">{{ captura.fecha_captura | date:'shortTime' }}</span>
    </div>
  </div>
</div>

<!-- CASO B: Tarjeta Vacía / Nueva (Botón +) -->
<div class="card-container empty-card"
     *ngIf="!captura"
     (click)="handleClick()">
  <div class="icon-wrapper">
    <mat-icon>add</mat-icon>
  </div>
  <span class="new-label">Nueva Captura</span>
</div>
